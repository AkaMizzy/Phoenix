{"version":3,"file":"chat.js","sources":["../../../../src/js/theme/chat.js","../../../../src/js/pages/chat.js"],"sourcesContent":["/*-----------------------------------------------\r\n|   Chat\r\n-----------------------------------------------*/\r\nconst chatInit = () => {\r\n  const { getData } = window.phoenix.utils;\r\n\r\n  const Selector = {\r\n    CHAT_SIDEBAR: '.chat-sidebar',\r\n    CHAT_TEXT_AREA: '.chat-textarea',\r\n    CHAT_THREADS: '[data-chat-thread]',\r\n    CHAT_THREAD_TAB: '[data-chat-thread-tab]',\r\n    CHAT_THREAD_TAB_CONTENT: '[data-chat-thread-tab-content]'\r\n  };\r\n\r\n  const $chatSidebar = document.querySelector(Selector.CHAT_SIDEBAR);\r\n  const $chatTextArea = document.querySelector(Selector.CHAT_TEXT_AREA);\r\n  const $chatThreads = document.querySelectorAll(Selector.CHAT_THREADS);\r\n  const threadTab = document.querySelector(Selector.CHAT_THREAD_TAB);\r\n  const threadTabContent = document.querySelector(\r\n    Selector.CHAT_THREAD_TAB_CONTENT\r\n  );\r\n\r\n  if (threadTab) {\r\n    const threadTabItems = threadTab.querySelectorAll(\"[data-bs-toggle='tab']\");\r\n\r\n    const list = new window.List(threadTabContent, {\r\n      valueNames: ['read', 'unreadItem']\r\n    });\r\n\r\n    const chatBox = document.querySelector('.chat .card-body');\r\n    chatBox.scrollTop = chatBox.scrollHeight;\r\n\r\n    threadTabItems.forEach(tabEl =>\r\n      tabEl.addEventListener('shown.bs.tab', () => {\r\n        const value = getData(tabEl, 'chat-thread-list');\r\n        list.filter(item => {\r\n          if (value === 'all') {\r\n            return true;\r\n          }\r\n          return item.elm.classList.contains(value);\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  $chatThreads.forEach((thread, index) => {\r\n    thread.addEventListener('click', () => {\r\n      const chatContentArea = document.querySelector(\r\n        `.chat-content-body-${index}`\r\n      );\r\n      chatContentArea.scrollTop = chatContentArea.scrollHeight;\r\n      $chatSidebar.classList.remove('show');\r\n      if (thread.classList.contains('unread')) {\r\n        thread.classList.remove('unread');\r\n        const unreadBadge = thread.querySelector('.unread-badge');\r\n        if (unreadBadge) {\r\n          unreadBadge.remove();\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n  if ($chatTextArea) {\r\n    $chatTextArea.setAttribute('placeholder', 'Type your message...');\r\n  }\r\n};\r\n\r\nexport default chatInit;\r\n","import chatInit from '../theme/chat';\r\n\r\nconst { docReady } = window.phoenix.utils;\r\n\r\ndocReady(chatInit);\r\n"],"names":[],"mappings":"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"}